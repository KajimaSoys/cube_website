{%extends 'shop/base.html'%}


{%block content%}
<!-- Responsive navbar-->

   <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
    {% if messages %}
    {% for message in messages %}
    <div class="alert alert-warning alert-dismissible fade show container" role="alert">
      <strong>{{ message }}!</strong>
      <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
    </div>
    {% endfor %}
    {% endif %}

    <div class="offcanvas offcanvas-start" id="demo">
    <div class="offcanvas-header">
        <h1 class="offcanvas-title text-warning border ">Каталог</h1>
        <button type="button" class="btn-close text-reset" data-bs-dismiss="offcanvas"></button>
    </div>
    <div class="offcanvas-body">
        <ul>
        {%for c in categories%}
        <li><a href="{%url 'all_product_category' c.slug%}" class=" text-decoration-none text-reset"><h3
                class="">{{c.name}}</h3></a></li>
        {%endfor%}
        </ul>

    </div>
</div>
   <div class="container">
       <div class="card  ">
            <button class="btn btn-outline-warning " type="button" data-bs-toggle="offcanvas" data-bs-target="#demo">
            Открыть каталог
        </button>
        <div class="card-body">

            <h3 class="card-title">{{product.name}}</h3>
            <div class="row">
                <div class="col-lg-5 col-md-5 col-sm-6">


                    <div class="white-box text-center">

                        <div id="carouselExample" class="carousel slide">

                            <div class="carousel-inner">
                                {%for image_list in images%}
                                <div class="carousel-item active">
                                    <img src="{{image_list.image.url}}" class="d-block w-100" alt="...">

                                </div>
                                {%endfor%}
                            </div>

                            <button class="carousel-control-prev" type="button" data-bs-target="#carouselExample"
                                    data-bs-slide="prev">
                                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                                <span class="visually-hidden">Previous</span>
                            </button>
                            <button class="carousel-control-next" type="button" data-bs-target="#carouselExample"
                                    data-bs-slide="next">
                                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                                <span class="visually-hidden">Next</span>
                            </button>
                        </div>
                        </div>
                </div>
                <div class="col-lg-7 col-md-7 col-sm-6">
                    <h4 class="box-title mt-5"><b>Описание товара</b></h4>
                    <p>{{product.description|safe}}</p>
                    <h2><b>Цена:</b> {{product.price_1}} руб.</h2>

                    <form action="{%url 'add_to_basket' product.id%}" method="POST">
                        {% csrf_token %}
                        <button class="btn btn-warning btn-rounded mr-1" data-toggle="tooltip" title=""
                                data-original-title="Add to cart" id="liveAlertBtn">
                            <i class="fa fa-shopping-cart">Добавить в корзину</i>
                        </button>

                    </form>




                    <h3 class="box-title mt-5">Характеристики:</h3>
                    <ul class="list-unstyled">
                        <li><i class="fa fa-check text-success"></i><b>Размеры:</b> {{product.size}}</li>
                        <li><i class="fa fa-check text-success"></i><b>Материал:</b> {{product.material}}</li>



                    </ul>
                </div>

            </div>
        </div>
    </div>
</div>

<!-- Bootstrap core JS-->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
<!-- Core theme JS-->
<script src="js/scripts.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
        crossorigin="anonymous"></script>
{%endblock%}
